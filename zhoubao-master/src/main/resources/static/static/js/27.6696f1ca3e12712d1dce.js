webpackJsonp([27],{P3wg:function(e,t){},UCk6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),l={name:"TableEdit",data:function(){return{ids:[],weekName:["周一","周二","周三","周四","周五","周六","周日"],select2:"",sectionAll:[],userName:[],inputAll:"上课",sectionitems:[[{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""}],[{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""}],[{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""}],[{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""}],[{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""}],[{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""}],[{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""},{id:"-1",userName:"",no:"0",head:"上课",class:"other",detailid:"0",time:"",week:""}]]}},props:{details:Array},mounted:function(){this.userName=this.Cookies.get("userName"),this.getSection()},watch:{sectionAll:function(){for(var e=0,t=0;t<this.sectionitems.length;t++)for(var i=0;i<this.sectionitems[t].length;i++)this.sectionitems[t].splice(i,1,this.sectionAll[e++])}},methods:{getSection:function(){var e=this;this.axios.get("/htmlZhoubao/getSection/"+e.userName+"/-1").then(function(t){0!=t.data.length&&(e.sectionAll=t.data)})},allIn:function(){for(var e=0;e<this.sectionitems.length;e++)for(var t=0;t<this.sectionitems[e].length;t++)this.sectionitems[e][t].head=this.inputAll},editDone:function(){if("-1"==this.sectionitems[0][0].id){this.sectionAll=[];for(var e=0,t=0;t<this.sectionitems.length;t++)for(var i=0;i<this.sectionitems[t].length;i++)this.sectionitems[t][i].userName=this.userName,this.sectionitems[t][i].no=e++,this.sectionAll.push(this.sectionitems[t][i]);var s=this;this.axios({url:"/htmlZhoubao/saveSection/",method:"post",data:a()(s.sectionAll),headers:{"Content-Type":"application/json"}}).then(function(e){0!=e.data.length&&(s.sectionAll=e.data)})}else{this.sectionAll=[];for(t=0;t<this.sectionitems.length;t++)for(i=0;i<this.sectionitems[t].length;i++)this.sectionAll.push(this.sectionitems[t][i]);s=this;this.axios({url:"/htmlZhoubao/updateSection/",method:"post",data:a()(s.sectionAll),headers:{"Content-Type":"application/json"}})}this.$message({message:"表格保存成功",type:"success"})},editCell:function(e){var t=e.class;0==e.detailid?0==t.localeCompare("other")?e.class="wenzi":0==t.localeCompare("wenzi")?e.class="other":0==t.localeCompare("lianxi")&&(e.class="wenzi"):0==t.localeCompare("other")?e.class="lianxi":0==t.localeCompare("wenzi")&&(e.class="lianxi")},editDetailId:function(e){e.detailid=this.select2[0].id,e.head="练习"+(this.select2[1]+1)+" "+this.select2[0].head,e.class="lianxi",this.select2="",this.$message({message:"表格绑定练习成功",type:"success"})}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("table",[i("tr",[i("th",{staticStyle:{padding:"1%"},on:{click:function(e){}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputAll,expression:"inputAll"}],staticStyle:{border:"1px solid lightgray",margin:"1%"},attrs:{placeholder:"批量填充内容"},domProps:{value:e.inputAll},on:{input:function(t){t.target.composing||(e.inputAll=t.target.value)}}}),e._v(" "),i("el-button",{on:{click:e.allIn}},[e._v("批量填充")])],1),e._v(" "),i("th",[e._v("上午")]),e._v(" "),i("th",[e._v("下午")]),e._v(" "),i("th",[e._v("晚上")])]),e._v(" "),e._l(e.sectionitems,function(t,s){return i("tr",[i("th",[e._v(e._s(e.weekName[s]))]),e._v(" "),e._l(t,function(t){return i("td",{class:t.class,on:{click:function(i){return i.target!==i.currentTarget?null:e.editCell(t)}}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.head,expression:"section.head"}],staticStyle:{width:"80%",height:"70%","font-size":"1.3em"},domProps:{value:t.head},on:{input:function(i){i.target.composing||e.$set(t,"head",i.target.value)}}}),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.select2,expression:"select2"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.select2=t.target.multiple?i:i[0]},function(i){return e.editDetailId(t)}]}},[i("option",{attrs:{disabled:"",value:""}},[e._v("请关联练习")]),e._v(" "),e._l(e.details,function(t,s){return i("option",{domProps:{value:[t,s]}},[e._v("片段"+e._s(s+1)+" "+e._s(t.head))])})],2)])})],2)})],2)])},staticRenderFns:[]};var o=i("VU/8")(l,n,!1,function(e){i("P3wg")},"data-v-085b9f9b",null);t.default=o.exports}});
//# sourceMappingURL=27.6696f1ca3e12712d1dce.js.map