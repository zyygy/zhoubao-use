webpackJsonp([15],{Y4AI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"NewAdminTimeLine",data:function(){return{zhoubaoWeeks:[],zhoubao:[],zhoubaoAll:[],loading:!0,imgSrc:["../static/html5.png","../static/pdf.png","../static/markdown80.png"],elLinkType:[]}},mounted:function(){this.shuaxin()},watch:{zhoubao:function(){for(var e=0,t=0;t<this.zhoubao.length;t++)this.zhoubao[e].week!=this.zhoubao[t].week&&(this.zhoubaoAll.push(this.makeWeek(this.zhoubao.slice(e,t))),e=t);this.zhoubaoAll.push(this.makeWeek(this.zhoubao.slice(e))),this.$nextTick(function(){this.loading=!1}),this.elLinkType=this.zhoubao.map(function(e){return"default"});var i=this.zhoubao.map(function(e){return e.id}).indexOf(this.$route.params.zhoubao.id);this.elLinkType.splice(i,1,"primary")}},methods:{changeMyType:function(e){var t=this.zhoubao.indexOf(e);this.elLinkType.splice(t,1,"primary")},shuaxin:function(){var e=this;this.axios.get("/zhoubao/getRecentWeeks/5").then(function(t){e.zhoubao=t.data})},makeWeek:function(e){var t=[];return t.push(this.boshi(e)),t[1]=this.shuoshi(e),t},getWeekCount:i("YF26").default.getWeekCount,fileType:function(e){if(0==e.localeCompare("-1"))return 0;var t=e.split("."),i=t[t.length-1].toLowerCase();return 0==i.localeCompare("pdf")?1:0==i.localeCompare("md")?2:void 0},viewer:function(e){var t=e.id;if(0==e.filePath.localeCompare("-1"))this.$router.push({name:"HtmlViewerAll",params:{userName:e.userName,week:e.week,zhoubao:e}});else{var i=e.filePath.split("."),a=i[i.length-1].toLowerCase();0==a.localeCompare("pdf")?this.$router.push({name:"pdfViewerAll",params:{zhoubao:e,id:t}}):0==a.localeCompare("md")&&this.$router.push({name:"MdViewerAll",params:{zhoubao:e,id:t}})}},timeFormat:function(e){var t=new Date,i=(e=new Date(e)).getMonth()+1+"月"+e.getDate()+"日";return e.getFullYear()==t.getFullYear()?i:e.getFullYear()+"年"+i},boshi:function(e){for(var t=0;t<e.length;t++)if(0==e[t].type)return e.slice(0,t)},shuoshi:function(e){for(var t=0,i=0;i<e.length;i++)if(0==e[i].type){t=i;break}var a=[];for(i=t=t;i<e.length;i++)e[i].year!=e[t].year&&(a.push(e.slice(t,i)),t=i);return a.push(e.slice(t)),a}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"boxFinding",staticStyle:{width:"90%",margin:"0% 5%"}},e._l(e.zhoubaoAll,function(t,a){return i("div",{key:t[0].id,ref:"allPeople",refInFor:!0,staticStyle:{width:"65%"}},[i("h2",[e._v(e._s(e.timeFormat(t[1][0][0].time)))]),e._v(" "),i("div",[t[0].length?i("h4",[e._v("博士")]):e._e(),e._v(" "),e._l(t[0],function(t,a){return i("div",{key:e.zhoubao.id,staticStyle:{cursor:"pointer"}},[i("el-link",{staticStyle:{"font-size":"large",margin:"2% 0%"},attrs:{type:e.elLinkType[e.zhoubao.indexOf(t)]},on:{click:function(i){e.viewer(t),e.changeMyType(t)}}},[e._v(e._s(t.userName))])],1)})],2),e._v(" "),i("div",e._l(t[1],function(t,a){return i("div",{key:t[0].id},[i("h4",[e._v("硕士"+e._s(t[0].year)+"级")]),e._v(" "),e._l(t,function(t,a){return i("div",{key:t.id,staticStyle:{cursor:"pointer"}},[i("el-link",{staticStyle:{"font-size":"large",margin:"2% 0%"},attrs:{type:e.elLinkType[e.zhoubao.indexOf(t)]},on:{click:function(i){e.viewer(t),e.changeMyType(t)}}},[e._v(e._s(t.userName))])],1)})],2)}),0)])}),0)},staticRenderFns:[]};var o=i("VU/8")(a,n,!1,function(e){i("xkFe")},"data-v-62b680ec",null);t.default=o.exports},xkFe:function(e,t){}});
//# sourceMappingURL=15.9d4c48085cd50dbd34db.js.map