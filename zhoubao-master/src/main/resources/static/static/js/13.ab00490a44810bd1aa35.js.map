{"version":3,"sources":["webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?a50d","webpack:///./src/components/Login.vue"],"names":["Login","name","data","userName","userPwd","loadState","login","admin","newUser","newPwd","twicePwd","professor","type","year","bingImg","mounted","this","getBingImgUrl","methods","yanzheng","event","self","axios","url","method","auth","username","unescape","encodeURIComponent","password","headers","Content-Type","then","response","console","log","status","$message","showClose","message","$notify","title","$router","push","Cookies","set","expires","existUserName","get","$refs","focus","zhuce","localeCompare","length","json","getFullYear","images","components_Login","render","_vm","_h","$createElement","_c","_self","staticStyle","width","height","padding","background-image","transform","staticClass","background-color","font-size","text-align","color","margin","font-weight","_v","attrs","placeholder","model","value","callback","$$v","expression","show-password","loading","on","click","left","$event","_e","ref","change","label","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.ab00490a44810bd1aa35.js","sourcesContent":["<template>\r\n\t<div style=\"width: 100%;height:100%;padding:8% 0% 17% 0%;background-image: url('https://open.saintic.com/api/bingPic/'); transform: rotateY(180deg)\">\r\n\t\t<el-card class=\"box-card\" style=\"background-color:rgba(255,255,255,1); transform: rotateY(180deg)\">\r\n\t\t\t<div v-if=\"login\" >\r\n\t\t\t\t<div style=\"font-size: 1.2rem;text-align:center;color:#303133;width:100%;margin: 8% auto;font-weight: 600;\">每周工作汇报管理系统</div>\r\n\t\t\t\t<el-input v-model=\"userName\" placeholder=\"请输入用户名\" style=\"width: 84%;margin: 2% 8%;\"></el-input>\r\n\t\t\t\t<el-input placeholder=\"请输入密码\" v-model=\"userPwd\" show-password style=\"width: 84%;margin: 2% 8%;\"></el-input>\r\n\t\t\t\t<el-button type=\"primary\" :loading=\"loadState\" style=\"width: 84%;margin: 6% 8% 4% 8%;\" v-on:click=\"yanzheng\">登录</el-button>\r\n\r\n\t\t\t\t<el-link type=\"info\" @click=\"login=!login\" style=\"font-size: 0.9rem;left:8%;margin: 0.2%;font-weight:500;\">没有账号？点击注册</el-link>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div v-if=\"!login\">\r\n\t\t\t\t<div v-if=\"!admin\">\r\n\t\t\t\t\t<div style=\"font-size: 1.2rem;text-align:center; #303133;width:100%;margin: 4% auto;font-weight: 600;\">用户注册</div>\r\n\r\n\t\t\t\t\t<el-input v-model=\"newUser\" placeholder=\"请输入真实姓名\" style=\"width: 84%;margin: 2% 8%;\" @change=\"existUserName()\" ref=\"newUser\"></el-input>\r\n\t\t\t\t\t<el-input placeholder=\"请输入密码\" v-model=\"newPwd\" show-password style=\"width: 84%;margin: 2% 8%;\"></el-input>\r\n\t\t\t\t\t<el-input placeholder=\"请确认密码\" v-model=\"twicePwd\" show-password style=\"width: 84%;margin: 2% 8%;\"></el-input>\r\n\t\t\t\t\t<el-input v-model=\"professor\" placeholder=\"请输入预设暗号进行身份验证\" style=\"width: 84%;margin: 2% 8%;\"></el-input>\r\n\t\t\t\t\t<el-select v-model=\"type\" placeholder=\"硕士还是博士？\" style=\"width: 84%;margin: 2% 8%;\">\r\n\t\t\t\t\t\t<el-option label=\"硕士\" :value=\"0\">\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t<el-option label=\"博士\" :value=\"2\">\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t\t<el-date-picker v-model=\"year\" type=\"year\" placeholder=\"请选择入学年份\" style=\"width: 84%;margin: 2% 8%;\"></el-date-picker>\r\n\t\t\t\t\t<el-button type=\"primary\" :loading=\"loadState\" style=\"width: 84%;margin: 6% 8% 4% 8%;\" v-on:click=\"zhuce\">注册</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"admin\">\r\n\t\t\t\t\t<div style=\"font-size: 1.2rem;text-align:center; #303133;width:100%;margin: 4% auto;font-weight: 600;\">管理员注册</div>\r\n\t\t\t\t\t<el-input v-model=\"newUser\" placeholder=\"请输入用户名\" style=\"width: 84%;margin: 2% 8%;\" @change=\"existUserName()\" ref=\"newUser\"></el-input>\r\n\t\t\t\t\t<el-input placeholder=\"请输入密码\" v-model=\"newPwd\" show-password style=\"width: 84%;margin: 2% 8%;\"></el-input>\r\n\t\t\t\t\t<el-input placeholder=\"请确认密码\" v-model=\"twicePwd\" show-password style=\"width: 84%;margin: 2% 8%;\"></el-input>\r\n\t\t\t\t\t<el-input v-model=\"professor\" placeholder=\"请设置暗号用于用户注册验证\" style=\"width: 84%;margin: 2% 8%;\"></el-input>\r\n\t\t\t\t\t<el-button type=\"primary\" :loading=\"loadState\" style=\"width: 84%;margin: 6% 8% 4% 8%;\" v-on:click=\"zhuce\">注册管理员</el-button>\r\n\t\t\t\t\t<!--2019年6月23日 管理员注册功能尚未完成-->\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-link type=\"info\" @click=\"login=!login;admin=false;\" style=\"font-size: 0.9rem;left:8%;margin: 0.2%;font-weight:500;\">返回登录</el-link>\r\n\t\t\t\t<el-link type=\"info\" v-if=\"!admin\" @click=\"admin=!admin\" style=\"font-size: 0.9rem;left:52%;margin: 0.2%;font-weight:500;\">注册管理员</el-link>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'Login',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuserName: '',\r\n\t\t\t\tuserPwd: '',\r\n\t\t\t\tloadState: false,\r\n\t\t\t\tlogin: true,\r\n\t\t\t\tadmin: false,\r\n\t\t\t\tnewUser: '',\r\n\t\t\t\tnewPwd: '',\r\n\t\t\t\ttwicePwd: '',\r\n\t\t\t\tprofessor: '',\r\n\t\t\t\ttype: '',\r\n\t\t\t\tyear: '',\r\n\t\t\t\tbingImg:'',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted:function(){\r\n\t\t\tthis.getBingImgUrl();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tyanzheng: function(event) {\r\n\t\t\t\tthis.loadState = true;\r\n\r\n\r\n\t\t\t\t//ajax部分 从数据库更新对应的英雄\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\turl: '/user/yanzheng/', //这个api后台本来就有\r\n\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\tauth: {\r\n\t\t\t\t\t\t//unescape(encodeURIComponent(str)\r\n\t\t\t\t\t\tusername: unescape(encodeURIComponent(this.userName)),\r\n\t\t\t\t\t\tpassword: unescape(encodeURIComponent(this.userPwd))\r\n\t\t\t\t\t\t// username: this.userName,\r\n\t\t\t\t\t\t// password: this.userPwd\r\n\t\t\t\t\t},\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(response) {\r\n\t\t\t\t\t//alert(response.data);\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\tif (response.status == 401) {\r\n\t\t\t\t\t\t//alert(\"登录失败！\");\r\n\t\t\t\t\t\tself.$message({\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\tmessage: '用户名或密码错误',\r\n\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//alert(\"用户名或密码错误\");\r\n\t\t\t\t\t\tself.loadState = false;\r\n\t\t\t\t\t} else if (response.data.type == 1) {\r\n\t\t\t\t\t\t//alert(\"登录成功！\");\r\n\t\t\t\t\t\tself.$notify({\r\n\t\t\t\t\t\t\ttitle: '欢迎阅览周报~',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//location.assign(ans);\r\n\t\t\t\t\t\tself.$router.push('AdminHomePage')\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//不是管理员就是正常用户\r\n\t\t\t\t\telse if (response.data.type == 0||response.data.type == 2) {\r\n\t\t\t\t\t\t//alert(\"登录成功！\");\r\n\t\t\t\t\t\tself.$notify({\r\n\t\t\t\t\t\t\ttitle: '成功',\r\n\t\t\t\t\t\t\tmessage: '已成功登录系统！',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//location.assign(ans);\r\n\t\t\t\t\t\tself.$router.push('HomePage')\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//alert(response.data);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t//alert(\"登录失败！\");\r\n\t\t\t\t\t\tself.$message({\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\tmessage: '用户名或密码错误',\r\n\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//alert(\"用户名或密码错误\");\r\n\t\t\t\t\t\tself.loadState = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\t//调用Cookies存储用户名 方便跟踪用户状态\r\n\t\t\t\tthis.Cookies.set('userName', this.userName, {\r\n\t\t\t\t\texpires: 1\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\texistUserName: function() {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\t//从后台中提取本周总结 -1在后端会被识别为本周\r\n\t\t\t\tthis.axios.get(\"existUserName/\" + self.newUser).then(function(response) {\r\n\t\t\t\t\t//alert(response.data.length);\r\n\t\t\t\t\tif (response.data == 1) {\r\n\t\t\t\t\t\tself.$message({\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\tmessage: '用户名已存在，请重新输入~',\r\n\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself.newUser = '';\r\n\t\t\t\t\t\tself.$refs.newUser.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tzhuce: function() {\r\n\t\t\t\tthis.loadState = true;\r\n\t\t\t\tif (!this.newUser || !this.newPwd) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '用户名或密码不能为空~',\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.loadState = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.newPwd != this.twicePwd) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '两次密码不相同，请重新输入~',\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.loadState = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.professor.localeCompare(\"蒋泽军\") != 0 && this.professor.localeCompare(\"王丽芳\") != 0) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '导师姓名错误，身份验证失败~',\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.loadState = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.type.length == 0) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '未选择身份~',\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.loadState = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.year) {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '未选择入学年份~',\r\n\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.loadState = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//alert(\"测试\");\r\n\t\t\t\tvar json = {\r\n\t\t\t\t\tuserName: this.newUser,\r\n\t\t\t\t\tuserPwd: this.newPwd,\r\n\t\t\t\t\ttype: this.type,\r\n\t\t\t\t\tyear: this.year.getFullYear()\r\n\t\t\t\t};\r\n\t\t\t\tvar self = this;\r\n\t\t\t\t//alert(json.year);\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\turl: 'zhuce/',\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t//发送格式为json\r\n\t\t\t\t\tdata: json,\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(function(response) {\r\n\r\n\t\t\t\t\t//alert(response.data);\r\n\t\t\t\t\tif (response.data == 0) {\r\n\t\t\t\t\t\tself.$message({\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\tmessage: '注册失败，请联系管理员',\r\n\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//alert(\"用户名或密码错误\");\r\n\t\t\t\t\t\tself.loadState = false;\r\n\t\t\t\t\t} else if (response.data == 1) {\r\n\t\t\t\t\t\tself.$message({\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\tmessage: '恭喜' + self.newUser + '注册成功,请登录',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tself.loadState = false;\r\n\t\t\t\t\t\tself.userName = self.newUser;\r\n\t\t\t\t\t\tself.login = !self.login //切换为登录界面\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetBingImgUrl:function(){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\t//从后台中提取本周总结 -1在后端会被识别为本周\r\n\t\t\t\tthis.axios.get(\"https://cn.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1\").then(function(response) {\r\n\t\t\t\t\tself.bingImg=\"https://cn.bing.com/\"+response.images[0].url;\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.box-card {\r\n\t\tposition: relative;\r\n\t\twidth: 30%;\r\n\t\tleft: 15%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/deep/ el-row {\r\n\t\tmargin: 10%;\r\n\t}\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"padding\":\"8% 0% 17% 0%\",\"background-image\":\"url('https://open.saintic.com/api/bingPic/')\",\"transform\":\"rotateY(180deg)\"}},[_c('el-card',{staticClass:\"box-card\",staticStyle:{\"background-color\":\"rgba(255,255,255,1)\",\"transform\":\"rotateY(180deg)\"}},[(_vm.login)?_c('div',[_c('div',{staticStyle:{\"font-size\":\"1.2rem\",\"text-align\":\"center\",\"color\":\"#303133\",\"width\":\"100%\",\"margin\":\"8% auto\",\"font-weight\":\"600\"}},[_vm._v(\"每周工作汇报管理系统\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.userName),callback:function ($$v) {_vm.userName=$$v},expression:\"userName\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.userPwd),callback:function ($$v) {_vm.userPwd=$$v},expression:\"userPwd\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"84%\",\"margin\":\"6% 8% 4% 8%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loadState},on:{\"click\":_vm.yanzheng}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-link',{staticStyle:{\"font-size\":\"0.9rem\",\"left\":\"8%\",\"margin\":\"0.2%\",\"font-weight\":\"500\"},attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.login=!_vm.login}}},[_vm._v(\"没有账号？点击注册\")])],1):_vm._e(),_vm._v(\" \"),(!_vm.login)?_c('div',[(!_vm.admin)?_c('div',[_c('div',{staticStyle:{\"font-size\":\"1.2rem\",\"text-align\":\"center\",\"width\":\"100%\",\"margin\":\"4% auto\",\"font-weight\":\"600\"}},[_vm._v(\"用户注册\")]),_vm._v(\" \"),_c('el-input',{ref:\"newUser\",staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请输入真实姓名\"},on:{\"change\":function($event){return _vm.existUserName()}},model:{value:(_vm.newUser),callback:function ($$v) {_vm.newUser=$$v},expression:\"newUser\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.newPwd),callback:function ($$v) {_vm.newPwd=$$v},expression:\"newPwd\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请确认密码\",\"show-password\":\"\"},model:{value:(_vm.twicePwd),callback:function ($$v) {_vm.twicePwd=$$v},expression:\"twicePwd\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请输入预设暗号进行身份验证\"},model:{value:(_vm.professor),callback:function ($$v) {_vm.professor=$$v},expression:\"professor\"}}),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"硕士还是博士？\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_c('el-option',{attrs:{\"label\":\"硕士\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"博士\",\"value\":2}})],1),_vm._v(\" \"),_c('el-date-picker',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"type\":\"year\",\"placeholder\":\"请选择入学年份\"},model:{value:(_vm.year),callback:function ($$v) {_vm.year=$$v},expression:\"year\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"84%\",\"margin\":\"6% 8% 4% 8%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loadState},on:{\"click\":_vm.zhuce}},[_vm._v(\"注册\")])],1):_vm._e(),_vm._v(\" \"),(_vm.admin)?_c('div',[_c('div',{staticStyle:{\"font-size\":\"1.2rem\",\"text-align\":\"center\",\"width\":\"100%\",\"margin\":\"4% auto\",\"font-weight\":\"600\"}},[_vm._v(\"管理员注册\")]),_vm._v(\" \"),_c('el-input',{ref:\"newUser\",staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请输入用户名\"},on:{\"change\":function($event){return _vm.existUserName()}},model:{value:(_vm.newUser),callback:function ($$v) {_vm.newUser=$$v},expression:\"newUser\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.newPwd),callback:function ($$v) {_vm.newPwd=$$v},expression:\"newPwd\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请确认密码\",\"show-password\":\"\"},model:{value:(_vm.twicePwd),callback:function ($$v) {_vm.twicePwd=$$v},expression:\"twicePwd\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"84%\",\"margin\":\"2% 8%\"},attrs:{\"placeholder\":\"请设置暗号用于用户注册验证\"},model:{value:(_vm.professor),callback:function ($$v) {_vm.professor=$$v},expression:\"professor\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"84%\",\"margin\":\"6% 8% 4% 8%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loadState},on:{\"click\":_vm.zhuce}},[_vm._v(\"注册管理员\")])],1):_vm._e(),_vm._v(\" \"),_c('el-link',{staticStyle:{\"font-size\":\"0.9rem\",\"left\":\"8%\",\"margin\":\"0.2%\",\"font-weight\":\"500\"},attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.login=!_vm.login;_vm.admin=false;}}},[_vm._v(\"返回登录\")]),_vm._v(\" \"),(!_vm.admin)?_c('el-link',{staticStyle:{\"font-size\":\"0.9rem\",\"left\":\"52%\",\"margin\":\"0.2%\",\"font-weight\":\"500\"},attrs:{\"type\":\"info\"},on:{\"click\":function($event){_vm.admin=!_vm.admin}}},[_vm._v(\"注册管理员\")]):_vm._e()],1):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-830f288e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-830f288e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-830f288e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-830f288e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}